<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Î≥¥Ïïà Î¨∏Ï†ú Î™©Î°ù</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/main.min.css" rel="stylesheet">
</head>
<body style="background-color: #FFFCEE;">
<!-- ÏÉÅÎã® Î∞î -->
<div th:replace="fragments/header-detail :: adminHeader('Î≥¥Ïïà Î¨∏Ï†ú Ï†ÑÏ≤¥ Ï°∞Ìöå')"></div>

<div class="container-fluid mt-5" style="max-width: 95%; margin: 0 auto;">
    <h2>Î≥¥Ïïà Î¨∏Ï†ú Ï†ÑÏ≤¥ Ï°∞Ìöå Î™©Î°ù</h2>
    <!-- Í≤ÄÏÉâ ÌïÑÌÑ∞ -->
    <div class="d-flex align-items-center justify-content-between mb-3">
        <div class="d-flex align-items-center gap-2">
            <!-- Î¨∏Ï†ú ÎÇ¥Ïö© Í≤ÄÏÉâ -->
            <label for="keywordInput" class="me-1 mb-0">Î¨∏Ï†ú ÎÇ¥Ïö©:</label>
            <form th:action="@{/admin/questions/all}" method="get" class="d-flex align-items-center">
                <input type="text" name="keyword" id="keywordInput" class="form-control form-control-sm"
                       style="width: 250px;"
                       th:value="${keyword}" placeholder="Í≤ÄÏÉâÏñ¥ ÏûÖÎ†•">
                <button type="submit" class="btn btn-secondary btn-sm ms-2">Í≤ÄÏÉâ</button>
            </form>

            <a th:href="@{/admin/questions/all}" class="btn btn-warning btn-sm ms-4">üîÑ Ï†ÑÏ≤¥ Î™©Î°ù</a>
        </div>

        <!-- Î¨∏Ï†ú Ï∂îÍ∞Ä -->
        <a th:href="@{/admin/questions/create}" class="btn btn-primary btn-sm"> Î¨∏Ï†ú Ï∂îÍ∞Ä</a>
    </div>
    <script th:inline="javascript">
        /*<![CDATA[*/
        let totalElements = [[${page.totalElements}]];
        let keyword = /*[[${keyword}]]*/ '';

        if (totalElements === 0 && keyword) {
          alert('Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.');
          window.location.href = '/admin/questions/all';
        }
        /*]]>*/
    </script>

    <div class="table-responsive">
        <table class="table table-bordered table-hover align-middle text-center"
               style="background-color: #FFFFFF; min-width: 1200px;">
            <thead class="table-light">
            <tr>
                <th>ID</th>
                <th>Î¨∏Ï†ú ÎÇ¥Ïö©</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="question : ${questions}">
                <td th:text="${question.id}">1</td>
                <td th:text="${question.question}">Î¨∏Ï†ú ÎÇ¥Ïö©</td>
            </tr>
            </tbody>
        </table>
    </div>

    <nav th:if="${page.totalPages > 1}" class="mt-4">
        <ul class="pagination justify-content-center">
            <li class="page-item" th:classappend="${page.first} ? 'disabled'">
                <a class="page-link" th:href="@{|/admin/questions/all?page=${page.number - 1}|}">Ïù¥Ï†Ñ</a>
            </li>
            <li class="page-item" th:each="i : ${#numbers.sequence(0, page.totalPages - 1)}"
                th:classappend="${page.number == i} ? 'active'">
                <a class="page-link" th:href="@{|/admin/questions/all?page=${i}|}" th:text="${i + 1}">1</a>
            </li>
            <li class="page-item" th:classappend="${page.last} ? 'disabled'">
                <a class="page-link" th:href="@{|/admin/questions/all?page=${page.number + 1}|}">Îã§Ïùå</a>
            </li>
        </ul>
    </nav>

</div>
</body>
</html>
